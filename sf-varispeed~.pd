#N canvas 477 93 806 653 12;
#X declare -path hjh-abs -path .;
#N canvas 2 93 525 575 seg1 0;
#X obj 44 69 inlet;
#X obj 83 326 rpole~;
#X obj 304 239 *~ -1;
#X obj 304 263 +~ 1;
#X obj 44 259 sig~;
#X obj 44 235 *;
#X obj 83 235 *~ 1;
#X obj 44 357 +~, f 6;
#X obj 130 183 t f f;
#X obj 144 235 *;
#X obj 269 396 loadbang;
#X msg 269 421 0;
#N canvas 28 156 565 538 envelope 0;
#X obj 68 58 inlet~;
#X text 44 29 play position;
#X obj 332 58 inlet;
#X text 329 33 on/off;
#X obj 105 310 *~ 0;
#X obj 105 406 outlet~;
#X obj 179 406 threshold~ 0.1 1 1e-05 1;
#X obj 344 431 outlet;
#X obj 105 357 slop~ 60 2 0 2 0, f 29;
#X obj 427 58 inlet;
#X text 413 33 slew time;
#N canvas 2 93 450 300 offsetAndSlew 0;
#X obj 37 37 inlet;
#X obj 37 62 t f b f b;
#X obj 57 174 value f1sr001;
#X obj 37 202 *;
#X obj 37 227 outlet;
#X obj 297 127 samplerate~;
#X obj 279 152 *;
#X msg 279 177 118188 \$1;
#X obj 279 202 /;
#X obj 279 227 outlet;
#X text 234 54 118188 = 44100 * 2.68 \; so this is \; (44100*2.68)
/ (ms * sr);
#X connect 0 0 1 0;
#X connect 1 0 3 0;
#X connect 1 1 2 0;
#X connect 1 2 6 0;
#X connect 1 3 5 0;
#X connect 2 0 3 1;
#X connect 3 0 4 0;
#X connect 5 0 6 1;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 8 0 9 0;
#X restore 427 83 pd offsetAndSlew;
#X text 87 474 empirically \, 2.68 / ramp_ms is pretty close at 44.1
kHz \; also multiplying that by 44100/sr assuming it's linear;
#X obj 363 357 threshold~ 0.1 1 1e-05 1;
#X obj 363 382 outlet;
#X text 176 431 bang = envelope closed;
#X text 362 401 bang = reached loop point;
#N canvas 2 93 450 388 endpoints 0;
#X obj 90 40 inlet;
#X text 137 40 start end as list;
#X obj 90 65 t a a;
#X obj 175 105 -;
#X obj 175 130 * 1e+32;
#X obj 175 155 clip -1 1;
#X obj 175 180 *;
#X obj 90 180 unpack 0 0;
#X obj 157 205 +;
#X obj 90 230 pack 0 0, f 10;
#X obj 90 255 t a a;
#X obj 122 280 max;
#X obj 90 280 min;
#X obj 122 305 outlet;
#X obj 90 330 outlet;
#X obj 307 40 inlet;
#X text 353 40 slew;
#X connect 0 0 2 0;
#X connect 2 0 7 0;
#X connect 2 1 3 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 6 0 8 1;
#X connect 7 0 9 0;
#X connect 7 1 8 0;
#X connect 8 0 9 1;
#X connect 9 0 10 0;
#X connect 10 0 12 0;
#X connect 10 1 11 0;
#X connect 11 0 13 0;
#X connect 12 0 14 0;
#X connect 15 0 6 1;
#X restore 98 136 pd endpoints;
#X text 186 29 start \, end as list;
#X obj 207 58 inlet;
#X obj 68 192 in-range~;
#X connect 0 0 20 0;
#X connect 2 0 4 1;
#X connect 4 0 8 0;
#X connect 6 1 7 0;
#X connect 8 0 5 0;
#X connect 8 0 6 0;
#X connect 9 0 11 0;
#X connect 11 0 17 1;
#X connect 11 1 8 4;
#X connect 11 1 8 2;
#X connect 13 1 14 0;
#X connect 17 0 20 1;
#X connect 17 1 20 2;
#X connect 19 0 17 0;
#X connect 20 0 13 0;
#X connect 20 0 4 0;
#X restore 165 421 pd envelope;
#X obj 44 458 *~;
#X obj 44 94 t a b b b b, f 50;
#X msg 334 333 1;
#X obj 44 519 outlet~;
#X obj 239 69 inlet;
#X text 286 69 env time;
#X obj 172 69 inlet~;
#X text 207 44 rate modulator;
#X obj 172 19 loadbang;
#X msg 172 44 1;
#X obj 239 519 outlet;
#X obj 300 519 outlet;
#X obj 172 347 pack 0 0;
#X obj 83 260 *~ 1;
#N canvas 636 295 450 300 sign 0;
#X obj 63 12 inlet;
#X obj 63 62 -;
#X obj 63 87 * 1e+32;
#X obj 63 112 clip -1 1;
#X obj 63 137 outlet;
#X msg 63 37 \$2 \$1;
#X connect 0 0 5 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 5 0 1 0;
#X restore 68 133 pd sign;
#X obj 304 214 tabplay~ dirac\$0;
#X obj 44 421 tabread4~;
#X obj 93 358 r \$0-tblID;
#X obj 120 260 r \$0-rate;
#X obj 83 285 *~ 1, f 8;
#X msg 54 396 set \$1;
#X obj 403 69 r \$0-tblID;
#X msg 403 147 symbol \$1scale;
#X obj 217 189 value;
#X floatatom 249 233 5 0 0 0 - - -;
#X obj 130 133 value;
#X msg 411 94 symbol \$1sr001;
#X obj 214 372 r \$0-stop;
#X obj 44 163 unpack 0 0 0, f 8;
#X connect 0 0 14 0;
#X connect 1 0 7 1;
#X connect 2 0 3 0;
#X connect 3 0 1 1;
#X connect 4 0 7 0;
#X connect 5 0 4 0;
#X connect 5 0 25 0;
#X connect 6 0 26 0;
#X connect 7 0 12 0;
#X connect 7 0 29 0;
#X connect 8 0 5 1;
#X connect 8 1 9 1;
#X connect 9 0 25 1;
#X connect 10 0 11 0;
#X connect 11 0 12 2;
#X connect 12 0 13 1;
#X connect 12 1 11 0;
#X connect 12 1 23 0;
#X connect 12 2 24 0;
#X connect 13 0 16 0;
#X connect 14 0 27 0;
#X connect 14 0 41 0;
#X connect 14 1 38 0;
#X connect 14 2 36 0;
#X connect 14 3 28 0;
#X connect 14 4 15 0;
#X connect 15 0 12 2;
#X connect 17 0 12 3;
#X connect 19 0 6 0;
#X connect 21 0 22 0;
#X connect 22 0 19 0;
#X connect 25 0 12 1;
#X connect 26 0 32 0;
#X connect 27 0 26 1;
#X connect 28 0 2 0;
#X connect 29 0 13 0;
#X connect 30 0 33 0;
#X connect 31 0 32 1;
#X connect 32 0 1 0;
#X connect 33 0 29 0;
#X connect 34 0 35 0;
#X connect 34 0 39 0;
#X connect 35 0 36 1;
#X connect 36 0 6 1;
#X connect 36 0 37 0;
#X connect 38 0 8 0;
#X connect 39 0 38 1;
#X connect 40 0 12 2;
#X connect 41 0 5 0;
#X connect 41 1 9 0;
#X connect 41 2 32 1;
#X restore 56 403 pd seg1;
#X obj 102 428 spigot;
#X obj 56 246 list;
#X obj 102 246 list;
#X obj 320 429 spigot;
#X obj 56 97 inlet;
#N canvas 2 93 450 440 processLeft 0;
#X obj 37 37 inlet;
#X obj 154 352 outlet;
#X text 136 371 loop on/off;
#X obj 37 352 outlet;
#X msg 37 143 bang;
#X obj 37 168 value;
#X msg 37 193 0 \$1;
#X obj 95 352 outlet;
#X obj 305 62 r \$0-tblID;
#X msg 305 87 symbol \$1dur;
#X obj 37 62 route all stop loop set, f 34;
#X obj 213 352 outlet;
#X text 264 352 'set' symbol;
#X obj 213 327 symbol;
#X connect 0 0 10 0;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 6 0 3 0;
#X connect 8 0 9 0;
#X connect 9 0 5 1;
#X connect 10 0 4 0;
#X connect 10 1 7 0;
#X connect 10 2 1 0;
#X connect 10 3 13 0;
#X connect 10 4 3 0;
#X connect 13 0 11 0;
#X restore 56 122 pd processLeft;
#X f 37;
#X obj 58 22 declare -path hjh-abs -path .;
#X obj 56 520 outlet~;
#X obj 347 97 inlet~;
#X obj 347 47 loadbang;
#X msg 347 72 1;
#X obj 408 97 inlet;
#X text 403 77 env(ms);
#X obj 538 26 loadbang;
#X msg 538 51 args 0;
#X obj 538 76 pdcontrol;
#X obj 538 101 pack s 25 1;
#X obj 538 126 unpack s f f;
#X obj 538 200 s \$0-tblID;
#X obj 619 151 s \$0-rate;
#X obj 285 22 array define dirac\$0 256;
#X obj 539 260 loadbang;
#X msg 539 285 1 0;
#X obj 539 310 tabwrite dirac\$0;
#X text 432 333 apparently -k is not reliable in an abstraction? \;
fine \, if this is the only way... sheesh;
#N canvas 2 93 525 575 seg2 0;
#X obj 44 69 inlet;
#X obj 83 326 rpole~;
#X obj 304 239 *~ -1;
#X obj 304 263 +~ 1;
#X obj 44 259 sig~;
#X obj 44 235 *;
#X obj 83 235 *~ 1;
#X obj 44 357 +~, f 6;
#X obj 130 183 t f f;
#X obj 144 235 *;
#X obj 269 396 loadbang;
#X msg 269 421 0;
#N canvas 28 156 565 538 envelope 0;
#X obj 68 58 inlet~;
#X text 44 29 play position;
#X obj 332 58 inlet;
#X text 329 33 on/off;
#X obj 105 310 *~ 0;
#X obj 105 406 outlet~;
#X obj 179 406 threshold~ 0.1 1 1e-05 1;
#X obj 344 431 outlet;
#X obj 105 357 slop~ 60 2 0 2 0, f 29;
#X obj 427 58 inlet;
#X text 413 33 slew time;
#N canvas 2 93 450 300 offsetAndSlew 0;
#X obj 37 37 inlet;
#X obj 37 62 t f b f b;
#X obj 57 174 value f1sr001;
#X obj 37 202 *;
#X obj 37 227 outlet;
#X obj 297 127 samplerate~;
#X obj 279 152 *;
#X msg 279 177 118188 \$1;
#X obj 279 202 /;
#X obj 279 227 outlet;
#X text 234 54 118188 = 44100 * 2.68 \; so this is \; (44100*2.68)
/ (ms * sr);
#X connect 0 0 1 0;
#X connect 1 0 3 0;
#X connect 1 1 2 0;
#X connect 1 2 6 0;
#X connect 1 3 5 0;
#X connect 2 0 3 1;
#X connect 3 0 4 0;
#X connect 5 0 6 1;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 8 0 9 0;
#X restore 427 83 pd offsetAndSlew;
#X text 87 474 empirically \, 2.68 / ramp_ms is pretty close at 44.1
kHz \; also multiplying that by 44100/sr assuming it's linear;
#X obj 363 357 threshold~ 0.1 1 1e-05 1;
#X obj 363 382 outlet;
#X text 176 431 bang = envelope closed;
#X text 362 401 bang = reached loop point;
#N canvas 2 93 450 388 endpoints 0;
#X obj 90 40 inlet;
#X text 137 40 start end as list;
#X obj 90 65 t a a;
#X obj 175 105 -;
#X obj 175 130 * 1e+32;
#X obj 175 155 clip -1 1;
#X obj 175 180 *;
#X obj 90 180 unpack 0 0;
#X obj 157 205 +;
#X obj 90 230 pack 0 0, f 10;
#X obj 90 255 t a a;
#X obj 122 280 max;
#X obj 90 280 min;
#X obj 122 305 outlet;
#X obj 90 330 outlet;
#X obj 307 40 inlet;
#X text 353 40 slew;
#X connect 0 0 2 0;
#X connect 2 0 7 0;
#X connect 2 1 3 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 6 0 8 1;
#X connect 7 0 9 0;
#X connect 7 1 8 0;
#X connect 8 0 9 1;
#X connect 9 0 10 0;
#X connect 10 0 12 0;
#X connect 10 1 11 0;
#X connect 11 0 13 0;
#X connect 12 0 14 0;
#X connect 15 0 6 1;
#X restore 98 136 pd endpoints;
#X text 186 29 start \, end as list;
#X obj 207 58 inlet;
#X obj 68 192 in-range~;
#X connect 0 0 20 0;
#X connect 2 0 4 1;
#X connect 4 0 8 0;
#X connect 6 1 7 0;
#X connect 8 0 5 0;
#X connect 8 0 6 0;
#X connect 9 0 11 0;
#X connect 11 0 17 1;
#X connect 11 1 8 4;
#X connect 11 1 8 2;
#X connect 13 1 14 0;
#X connect 17 0 20 1;
#X connect 17 1 20 2;
#X connect 19 0 17 0;
#X connect 20 0 13 0;
#X connect 20 0 4 0;
#X restore 165 421 pd envelope;
#X obj 44 458 *~;
#X obj 44 94 t a b b b b, f 50;
#X msg 334 333 1;
#X obj 44 519 outlet~;
#X obj 239 69 inlet;
#X text 286 69 env time;
#X obj 172 69 inlet~;
#X text 207 44 rate modulator;
#X obj 172 19 loadbang;
#X msg 172 44 1;
#X obj 239 519 outlet;
#X obj 300 519 outlet;
#X obj 172 347 pack 0 0;
#X obj 83 260 *~ 1;
#N canvas 636 295 450 300 sign 0;
#X obj 63 12 inlet;
#X obj 63 62 -;
#X obj 63 87 * 1e+32;
#X obj 63 112 clip -1 1;
#X obj 63 137 outlet;
#X msg 63 37 \$2 \$1;
#X connect 0 0 5 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 5 0 1 0;
#X restore 68 133 pd sign;
#X obj 304 214 tabplay~ dirac\$0;
#X obj 44 421 tabread4~;
#X obj 93 358 r \$0-tblID;
#X obj 120 260 r \$0-rate;
#X obj 83 285 *~ 1, f 8;
#X msg 54 396 set \$1;
#X obj 403 69 r \$0-tblID;
#X msg 403 147 symbol \$1scale;
#X obj 217 189 value;
#X floatatom 249 233 5 0 0 0 - - -;
#X obj 130 133 value;
#X msg 411 94 symbol \$1sr001;
#X obj 214 372 r \$0-stop;
#X obj 44 163 unpack 0 0 0, f 8;
#X connect 0 0 14 0;
#X connect 1 0 7 1;
#X connect 2 0 3 0;
#X connect 3 0 1 1;
#X connect 4 0 7 0;
#X connect 5 0 4 0;
#X connect 5 0 25 0;
#X connect 6 0 26 0;
#X connect 7 0 12 0;
#X connect 7 0 29 0;
#X connect 8 0 5 1;
#X connect 8 1 9 1;
#X connect 9 0 25 1;
#X connect 10 0 11 0;
#X connect 11 0 12 2;
#X connect 12 0 13 1;
#X connect 12 1 11 0;
#X connect 12 1 23 0;
#X connect 12 2 24 0;
#X connect 13 0 16 0;
#X connect 14 0 27 0;
#X connect 14 0 41 0;
#X connect 14 1 38 0;
#X connect 14 2 36 0;
#X connect 14 3 28 0;
#X connect 14 4 15 0;
#X connect 15 0 12 2;
#X connect 17 0 12 3;
#X connect 19 0 6 0;
#X connect 21 0 22 0;
#X connect 22 0 19 0;
#X connect 25 0 12 1;
#X connect 26 0 32 0;
#X connect 27 0 26 1;
#X connect 28 0 2 0;
#X connect 29 0 13 0;
#X connect 30 0 33 0;
#X connect 31 0 32 1;
#X connect 32 0 1 0;
#X connect 33 0 29 0;
#X connect 34 0 35 0;
#X connect 34 0 39 0;
#X connect 35 0 36 1;
#X connect 36 0 6 1;
#X connect 36 0 37 0;
#X connect 38 0 8 0;
#X connect 39 0 38 1;
#X connect 40 0 12 2;
#X connect 41 0 5 0;
#X connect 41 1 9 0;
#X connect 41 2 32 1;
#X restore 274 404 pd seg2;
#X obj 128 520 outlet;
#X msg 141 147 0;
#X obj 178 246 f;
#X text 203 246 loop state;
#X obj 56 190 t b l l b;
#X obj 141 172 t f f f;
#X obj 141 197 s \$0-stop;
#X obj 449 504 print set symbol;
#X connect 0 0 8 0;
#X connect 0 1 27 0;
#X connect 0 2 1 0;
#X connect 1 0 3 0;
#X connect 2 0 0 0;
#X connect 3 0 26 0;
#X connect 4 0 2 0;
#X connect 5 0 6 0;
#X connect 6 0 31 0;
#X connect 6 1 28 0;
#X connect 6 2 29 1;
#X connect 6 3 19 0;
#X connect 6 3 34 0;
#X connect 9 0 0 1;
#X connect 9 0 26 1;
#X connect 10 0 11 0;
#X connect 11 0 9 0;
#X connect 12 0 26 2;
#X connect 12 0 0 2;
#X connect 14 0 15 0;
#X connect 15 0 16 0;
#X connect 16 0 17 0;
#X connect 17 0 18 0;
#X connect 18 0 19 0;
#X connect 18 1 0 2;
#X connect 18 1 26 2;
#X connect 18 2 20 0;
#X connect 22 0 23 0;
#X connect 23 0 24 0;
#X connect 26 0 8 0;
#X connect 26 1 27 0;
#X connect 26 2 4 0;
#X connect 28 0 32 0;
#X connect 29 0 4 1;
#X connect 29 0 1 1;
#X connect 31 0 2 0;
#X connect 31 1 2 1;
#X connect 31 2 3 1;
#X connect 31 3 29 0;
#X connect 32 0 33 0;
#X connect 32 1 1 1;
#X connect 32 2 4 1;
